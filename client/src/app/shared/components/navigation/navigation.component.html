<div class="navigation" [ngClass]="{'scrolled': isScrolled}">
  <nav class="navbar">
    <a class="brand" routerLink="/">
      <span class="brand-name">Anhua Properties</span>
    </a>

    <ul class="nav-menu" [ngClass]="{'active': isMobileMenuOpen}">
      <li class="nav-item">
        <a class="nav-link" routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">Home</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" routerLink="/properties" routerLinkActive="active">Properties</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" routerLink="/about" routerLinkActive="active">About Us</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" routerLink="/contact" routerLinkActive="active">Contact</a>
      </li>
      <li class="nav-item" *ngIf="!isLoggedIn">
        <a class="nav-link" routerLink="/auth/login" routerLinkActive="active">Login</a>
      </li>
      <li class="nav-item" *ngIf="!isLoggedIn">
        <a class="nav-link" routerLink="/auth/register" routerLinkActive="active">Register</a>
      </li>
    </ul>

    <div class="user-menu" *ngIf="isLoggedIn">
      <button class="user-button" (click)="toggleUserMenu()">
        <span class="user-name">{{ currentUser?.firstName || 'User' }}</span>
        <div class="user-avatar">
          <img src="assets/images/default-avatar.jpg" alt="User">
        </div>
      </button>
      <div class="dropdown-menu" [ngClass]="{'show': isUserMenuOpen}">
        <a class="dropdown-item" routerLink="/dashboard">Dashboard</a>
        <a class="dropdown-item" routerLink="/admin" *ngIf="isLandlord || isAdmin">Admin Panel</a>
        <a class="dropdown-item" routerLink="/profile">My Profile</a>
        <a class="dropdown-item" routerLink="/settings">Settings</a>
        <div class="dropdown-item divider"></div>
        <a class="dropdown-item logout" (click)="logout()">Logout</a>
      </div>
    </div>

    <button class="mobile-toggle" (click)="toggleMobileMenu()">
      <i class="fas" [ngClass]="isMobileMenuOpen ? 'fa-times' : 'fa-bars'"></i>
    </button>
  </nav>
</div>
